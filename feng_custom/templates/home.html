<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>选择练习模式</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='app.css') }}" />
  </head>
  <body>
    <main class="deck-selector">
      <header>
        <h1>你好，{{ display_name }}！</h1>
        <p>请选择要复习的牌组。</p>
      </header>

      {% if deck_options %}
      <section class="deck-options">
        {% for deck in deck_options %}
        <a class="deck-option" href="{{ url_for(deck.endpoint) }}">
          <div class="deck-title">{{ deck.title }}</div>
          <div class="deck-subtitle">{{ deck.subtitle }}</div>
          <div class="deck-counts">
            <div>待复习 {{ deck.counts.due }} ｜ 学习中 {{ deck.counts.learning }} ｜ 新卡 {{ deck.counts.new }}</div>
            <div>已学单词 {{ deck.counts.words_learned }} ｜ 未学 {{ deck.counts.words_remaining }} ｜ 总计 {{ deck.counts.words_total }}</div>
          </div>
        </a>
        {% endfor %}
      </section>
      {% else %}
      <section class="deck-options">
        <div class="deck-option disabled">
          <div class="deck-title">当前没有可用的牌组</div>
          <div class="deck-subtitle">请联系管理员配置访问权限。</div>
        </div>
      </section>
      {% endif %}

      <footer>
        Web 界面通过 AnkiConnect 访问牌组。确保桌面版 Anki 正在运行。
      </footer>
    </main>
  </body>
</html>
